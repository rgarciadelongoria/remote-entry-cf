import{a as h,b as l}from"./chunk-POLL2CVR.js";var m=function(r){return r.TOKEN="token",r}(m||{});import{DOCUMENT as U,isPlatformBrowser as d}from"@angular/common";import{PLATFORM_ID as H}from"@angular/core";import*as a from"@angular/core";var k=(()=>{let t=class t{constructor(e,o){this.platformId=e,this.document=o}setCookie(e,o,s){if(d(this.platformId)){let u=s?.days??365,p=new Date;p.setDate(p.getDate()+u);let O=`${e}=${o}; expires=${p.toUTCString()}; path=/`;this.document.cookie=O}}getCookie(e){if(d(this.platformId)){let o=this.document.cookie.split(";");for(let s of o){let[u,p]=s.trim().split("=");if(u===e)return decodeURIComponent(p)}}return null}updateCookie(e,o,s){this.setCookie(e,o,s)}deleteCookie(e){this.setCookie(e,"",{days:-1})}};t.\u0275fac=function(o){return new(o||t)(a.\u0275\u0275inject(H),a.\u0275\u0275inject(U))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var f={production:!1,name:"dev",apiUrl:"http://localhost:9191/api",timeout:3e4,stripe:{URL:"https://js.stripe.com/v3/",code:"pk_test_QgSz63zOL87LWrJbRATVYM9T",intent:"https://api.stripe.com/v1/setup_intents/",usage:"off_session"}};import{HttpClient as C,HttpHeaders as P,HttpParams as g}from"@angular/common/http";import{first as n,timeout as c}from"rxjs/operators";import{inject as I}from"@angular/core";var v=class extends C{constructor(){super(...arguments),this.apiUrl=f.apiUrl,this.timeout=f.timeout,this.storageSrv=I(k)}createUrl(t,i){return`${this.apiUrl}/${i}/${t}`}createHttpOpts(t={}){let i=new P(l(h({},t?.headers||{}),{Authorization:this.storageSrv.getCookie(m.TOKEN)}));return l(h({},t),{headers:i})}Get(t,i="v1",e={}){return this.get(this.createUrl(t,i),this.createHttpOpts(e)).pipe(c(this.timeout),n())}Put(t,i,e="v1",o={}){return this.put(this.createUrl(t,e),i,this.createHttpOpts(o)).pipe(c(this.timeout),n())}Patch(t,i,e="v1",o={}){return this.patch(this.createUrl(t,e),i,this.createHttpOpts(o)).pipe(c(this.timeout),n())}Post(t,i,e="v1",o={}){return this.post(this.createUrl(t,e),i,this.createHttpOpts(o)).pipe(c(this.timeout),n())}Delete(t,i="v1",e={}){return this.delete(this.createUrl(t,i),this.createHttpOpts(e)).pipe(c(this.timeout),n())}toHttpParams(t){let i=new g;return Object.keys(t).filter(e=>this.isValidHttpParamValue(t[e])).forEach(e=>{e==="sort"?this.isValidHttpParamValue(t.sort.value)&&(i=i.append("sortKey",t.sort.key),i=i.append("sortValue",t.sort.value)):i=i.append(e,t[e])}),i}isValidHttpParamValue(t){return t!==""&&t!==void 0&&t!==null}};export{m as a,k as b,f as c,v as d};
