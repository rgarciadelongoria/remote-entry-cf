import{a as u,b as h}from"./chunk-POLL2CVR.js";var l=function(o){return o.TOKEN="token",o}(l||{});import{DOCUMENT as O,isPlatformBrowser as f}from"@angular/common";import{PLATFORM_ID as U}from"@angular/core";import*as a from"@angular/core";var d=(()=>{class o{constructor(t,i){this.platformId=t,this.document=i}setCookie(t,i,r){if(f(this.platformId)){let c=r?.days??365,s=new Date;s.setDate(s.getDate()+c);let v=`${t}=${i}; expires=${s.toUTCString()}; path=/`;this.document.cookie=v}}getCookie(t){if(f(this.platformId)){let i=this.document.cookie.split(";");for(let r of i){let[c,s]=r.trim().split("=");if(c===t)return decodeURIComponent(s)}}return null}updateCookie(t,i,r){this.setCookie(t,i,r)}deleteCookie(t){this.setCookie(t,"",{days:-1})}static{this.\u0275fac=function(i){return new(i||o)(a.\u0275\u0275inject(U),a.\u0275\u0275inject(O))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var m={production:!1,name:"dev",apiUrl:"http://localhost:9191/api",timeout:3e4,stripe:{URL:"https://js.stripe.com/v3/",code:"pk_test_QgSz63zOL87LWrJbRATVYM9T",intent:"https://api.stripe.com/v1/setup_intents/",usage:"off_session"}};import{HttpClient as H,HttpHeaders as C,HttpParams as g}from"@angular/common/http";import{first as p,timeout as n}from"rxjs/operators";import{inject as P}from"@angular/core";var k=class extends H{constructor(){super(...arguments),this.apiUrl=m.apiUrl,this.timeout=m.timeout,this.storageSrv=P(d)}createUrl(e,t){return`${this.apiUrl}/${t}/${e}`}createHttpOpts(e={}){let t=new C(h(u({},e?.headers||{}),{Authorization:this.storageSrv.getCookie(l.TOKEN)}));return h(u({},e),{headers:t})}Get(e,t="v1",i={}){return this.get(this.createUrl(e,t),this.createHttpOpts(i)).pipe(n(this.timeout),p())}Put(e,t,i="v1",r={}){return this.put(this.createUrl(e,i),t,this.createHttpOpts(r)).pipe(n(this.timeout),p())}Patch(e,t,i="v1",r={}){return this.patch(this.createUrl(e,i),t,this.createHttpOpts(r)).pipe(n(this.timeout),p())}Post(e,t,i="v1",r={}){return this.post(this.createUrl(e,i),t,this.createHttpOpts(r)).pipe(n(this.timeout),p())}Delete(e,t="v1",i={}){return this.delete(this.createUrl(e,t),this.createHttpOpts(i)).pipe(n(this.timeout),p())}toHttpParams(e){let t=new g;return Object.keys(e).filter(i=>this.isValidHttpParamValue(e[i])).forEach(i=>{i==="sort"?this.isValidHttpParamValue(e.sort.value)&&(t=t.append("sortKey",e.sort.key),t=t.append("sortValue",e.sort.value)):t=t.append(i,e[i])}),t}isValidHttpParamValue(e){return e!==""&&e!==void 0&&e!==null}};export{l as a,d as b,m as c,k as d};
